import java.util.Stack;

public class Salesforce_Move_Step_To_Sort_Array {
	public int minMoveToSortArray(int[] array) {
		Stack<Integer> stack = new Stack<>();
		
		for (int num : array) {
			while (!stack.isEmpty() && stack.peek() > num) {
				stack.pop();
			}
			
			stack.push(num);
		}
		
		return array.length - stack.size();
	}
	
	
	public int minMoveToSortArray2(int[] array) {
		int top = 0;
		
		for (int num : array) {
			while (top > 0 && array[top] > num) {
				top--;
			}
			
			array[top] = num;
		}
		
		for (int num : array) {
			System.out.print(num + ", ");
		}
		
		System.out.println();
		
		return array.length - top + 1;
	}
	
	
	public static void main(String[] args) {
		Salesforce_Move_Step_To_Sort_Array test = new Salesforce_Move_Step_To_Sort_Array();
		int[] array = {5,1,3,2};
		
		// System.out.println(test.minMoveToSortArray(array));
		System.out.println(test.minMoveToSortArray2(array));
	}
}
