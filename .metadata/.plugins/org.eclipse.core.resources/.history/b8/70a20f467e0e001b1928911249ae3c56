import java.util.HashMap;
import java.util.Map;

public class PoolControllerImpl 
{
	private Pool pool;
	private static PoolControllerImpl instance; 
	private Map<FishType, Integer> fishCapacity;
	
	private PoolControllerImpl()
	{
		pool = new Pool("pool_1");
		fishCapacity = new HashMap<>();
		fishCapacity.put(FishType.GOLDFISH, 5);
		fishCapacity.put(FishType.SHARK, 2);
	}
	
	public static PoolControllerImpl getInstance()
	{
		if (instance == null)
		{
			synchronized (instance) 
			{
				if (instance == null)
				{
					instance = new PoolControllerImpl();
				}
			}
		}
		
		return instance;
	}
	
	public void feedFish(int foodCount)
	{
		pool.feedFish(foodCount);
	}
	
	public void checkFishesStatus()
	{
		pool.checkFishesStatus();
	}
	
	public void heatPool(int template)
	{
		pool.setTemperature(template, true);
	}
	
	public void coolPool(int template)
	{
		pool.setTemperature(template, false);
	}
	
	private void init()
	{
		for (int i = 0; i < fishNum; i++)
		{
			Fish fish = FishFactory.generateFish(FishType.GOLDFISH);
			fishPool.put(fish.getFishId(), new GoldFish(fish.getFishId()));
			fishList.add(fish);
		}
	}
}
