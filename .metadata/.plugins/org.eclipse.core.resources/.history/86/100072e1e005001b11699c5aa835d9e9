import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class ParkingLot 
{
	private Map<String, ParkingLevel> levelIdToLevel;
	
	public ParkingLot(int levelNum, List<Integer> slotSizes, List<Integer> capacities)
	{
		levelIdToLevel = new HashMap<>();
		
		for (int i = 0; i < levelNum; i++)
		{
			String levelId = Integer.toString(i);
			levelIdToLevel.put(levelId, new ParkingLevel(levelId, slotSizes, capacities));
		}
	}
	
	public int getAvailableSpotsForGivenSize(int vehicleSize)
	{
		int count = 0;
		
		for (String levelId : levelIdToLevel.keySet())
		{
			count += levelIdToLevel.get(levelId).findAvailableSpotNumForGivenVehicleSize(vehicleSize);
		}
		
		return count;
	}
	
	public ParkingSlot parkVehicle(int vehicleSize)
	{
		for (String levelId : levelIdToLevel.keySet())
		{
			ParkingSlot slot = levelIdToLevel.get(levelId).parkVehicle(vehicleSize);
			
			if (slot != null)
			{
				return slot;
			}
		}
		
		return null;
	}
	
	public boolean unparkVehicle(ParkingSlot slot)
	{
		return levelIdToLevel.get(slot.getLevelId()).unparkVehicle(slot);
	}
}
