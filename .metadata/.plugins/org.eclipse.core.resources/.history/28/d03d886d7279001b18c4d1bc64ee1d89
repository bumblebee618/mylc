
public class Q000_Contest {
	private int gap = Integer.MAX_VALUE;
    private int resultPrice = 0;
    
    public int closestCost(int[] baseCosts, int[] toppingCosts, int target) 
    {
        if (baseCosts == null || baseCosts.length == 0 
            || toppingCosts == null || toppingCosts.length == 0 || target <= 0)
        {
            return 0;
        }
        
        for (int base : baseCosts)
        {
            if (base == target)
            {
                return target;        
            }
            
            boolean[] visited = new boolean[toppingCosts.length];
            search(toppingCosts, visited, base, target);
        }
        
        return resultPrice;
    }
    
    private void search(int[] toppingCosts, boolean[] visited, int price, int target)
    {
        if (gap > Math.abs(price - target) 
            || (gap == Math.abs(price - target) && price < resultPrice))
        {
            gap = Math.abs(price - target);
            resultPrice = price;
        }
        
        if (price >= target)
        {
            return;
        }
        
        for (int i = 0; i < toppingCosts.length; i++)
        {
            if (visited[i])
            {
                continue;
            }
            
            visited[i] = true;
            
            for (int j = 0; j <= 2; j++)
            {
                int curCost = toppingCosts[i] * j;
                
                if (price+curCost <= target)
                {
                    search(toppingCosts, visited, price+curCost, target);
                }
            }
            
            visited[i] = false;
        }
    }
    
    
    
    
    
    public static void main(String[] args)
    {
    	Q000_Contest test = new Q000_Contest();
    	int[] baseCosts = {4};
    	int[] toppingCosts = {9};
    	int target = 9;
    	System.out.println(test.closestCost(baseCosts, toppingCosts, target));
    }
    
}
