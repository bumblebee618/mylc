import java.lang.annotation.Target;
import java.util.*;





public class Q000_A_Contest 
{	
	private Map<Long, Integer> map;
    private long[][] matrix;
    private int row = 0, col = 0;
    
    public Q000_A_Contest(int[] nums1, int[] nums2) 
    {
    	map = new HashMap<>();
    	this.row = nums1.length;
    	this.col = nums2.length;
    	matrix = new long[row][col];
    	
    	for (int i = 0; i < row; i++)
    	{
    		for (int j = 0; j < col; j++)
    		{
    			matrix[i][j] = nums1[i] + nums2[j];
    			map.put(matrix[i][j], map.getOrDefault(matrix[i][j], 0)+1);
    		}
    	}
    }
    
    public void add(int index, int val) 
    {
    	if (val == 0)
    	{
    		return;
    	}
    	
    	for (int i = 0; i < row; i++)
    	{
    		long prevVal = matrix[i][index];
    		long newVal = matrix[i][index] + (long) val;
    		
    		System.out.println(prevVal + ", " + newVal);
    		
    		map.put(prevVal, map.get(prevVal)-1);
    		map.put(newVal, map.getOrDefault(newVal, 0)+1);
    	}
    }
    
    public int count(int tot) 
    {
    	return map.getOrDefault((long) tot, 0);
    }
	
	
    
    public static void main(String[] args)
    {
    	int[] nums1 = {1, 1, 2, 2, 2, 3};
    	int[] nums2 = {1, 4, 5, 2, 5, 4};
    	
    	Q000_A_Contest findSumPairs = new Q000_A_Contest(nums1, nums2);
    	
    	/****************************************************/
 
    	System.out.println(findSumPairs.count(4));
    	
    	System.out.println(findSumPairs.count(7));  // return 8; pairs (2,2), (3,2), (4,2), (2,4), (3,4), (4,4) make 2 + 5 and pairs (5,1), (5,5) make 3 + 4
    	findSumPairs.add(3, 2); // now nums2 = [1,4,5,4,5,4]
    	
    	
    	/*
    	System.out.println(findSumPairs.count(8));  // return 2; pairs (5,2), (5,4) make 3 + 5
    	System.out.println(findSumPairs.count(4));  // return 1; pair (5,0) makes 3 + 1
    	findSumPairs.add(0, 1); // now nums2 = [2,4,5,4,5,4]
    	findSumPairs.add(1, 1); // now nums2 = [2,5,5,4,5,4]
    	System.out.println(findSumPairs.count(7));
    	*/
    	
    	// System.out.println(test.subsetXORSum(nums1));
    	// System.out.println(test.subsetXORSum(nums2));
    	// System.out.println(test.subsetXORSum(nums3));
    	
    	
    }
}
